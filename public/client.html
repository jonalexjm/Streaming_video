<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cliente de Streaming</title>
</head>
<body>
    <h1>Cliente de streaming</h1>

    
    <p>
        Esta pagina transmite en tiempo real el streaming
        de la camara Web
    </p>
    <video id="video"
           width="1280" 
           height="720"></video>
    <canvas id="canvas"></canvas>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        (function (d, io){

            'use strict'

            var io = io(), 
                startCamera = false,
                video = d.querySelector('#video'),
                canvas = d.querySelector('#canvas'),
                context = canvas.getContext('2d');

             navigator.streaming = (
                    navigator.getUserMedia ||
                    navigator.webkitGetUserMedia ||
                    navigator.mozGetUserMedia ||
                    navigator.msGetuserMedia
                ) 

            navigator.streaming({
                video : true,
                audio : false
            }, 
            function(stream){
                startCamera = true
                video.srcObject = stream;
                video.onloadedmetadata = function(e){

                    video.play()

                }               


            }, function(err){
                alert('Error al acceder a la camara web' + err);

            })
        })(document, io)
    </script> 

</body>
</html>